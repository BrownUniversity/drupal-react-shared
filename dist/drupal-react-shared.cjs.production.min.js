"use strict";var t=require("react");"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator"))),exports.useFetch=function(e){var r=e.initialLoading,n=void 0===r||r,o=e.initialError,i=void 0===o?null:o,a=e.initialData,u=void 0===a?null:a,c=e.apiMethod,l=e.params,s=void 0===l?{}:l,d=e.mungeResponse,f=void 0===d?null:d,m=t.useState(n),v=m[0],y=m[1],h=t.useState(i),S=h[0],b=h[1],p=t.useState(u),P=p[0],g=p[1],I=t.useRef(s),j=function(){try{var t=function(t,e){try{var r=Promise.resolve(c(I.current)).then((function(t){g(f?f(t):t)}))}catch(t){return e(t)}return r&&r.then?r.then(void 0,e):r}(0,(function(t){b(t)}));return Promise.resolve(t&&t.then?t.then((function(){})):void 0)}catch(t){return Promise.reject(t)}},E=function(){try{return y(!0),Promise.resolve(j()).then((function(){y(!1)}))}catch(t){return Promise.reject(t)}};return t.useEffect((function(){n&&E()}),[]),{loading:v,error:S,data:P,refetch:function(t){var e=void 0===t?{}:t,r=e.params,n=void 0===r?null:r,o=e.withLoading,i=void 0===o||o;n&&(I.current=n),i?E():j()}}};
//# sourceMappingURL=drupal-react-shared.cjs.production.min.js.map
