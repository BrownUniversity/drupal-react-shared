"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator"))),exports.useFetch=function(t){var r=t.initialLoading,o=void 0===r||r,n=t.initialError,i=void 0===n?null:n,a=t.initialData,u=void 0===a?null:a,c=t.apiMethod,l=t.params,s=void 0===l?{}:l,d=t.mungeResponse,f=void 0===d?null:d,v=e.useState(o),y=v[0],m=v[1],b=e.useState(i),h=b[0],S=b[1],p=e.useState(u),P=p[0],g=p[1],j=e.useRef(s),I=e.useCallback((function(){try{var e=function(e,t){try{var r=Promise.resolve(c(j.current)).then((function(e){g(f?f(e):e)}))}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}(0,(function(e){S(e)}));return Promise.resolve(e&&e.then?e.then((function(){})):void 0)}catch(e){return Promise.reject(e)}}),[c,f]),k=e.useCallback((function(){try{return m(!0),Promise.resolve(I()).then((function(){m(!1)}))}catch(e){return Promise.reject(e)}}),[I]);return e.useEffect((function(){o&&k()}),[o,k]),{loading:y,error:h,data:P,refetch:function(e){var t=void 0===e?{}:e,r=t.params,o=void 0===r?null:r,n=t.withLoading,i=void 0===n||n;o&&(j.current=o),i?k():I()}}};
//# sourceMappingURL=drupal-react-shared.cjs.production.min.js.map
